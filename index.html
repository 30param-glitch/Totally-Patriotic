<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Totally Patriotic</title>

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

<style>
* { box-sizing: border-box; margin:0; padding:0; font-family:'Roboto', sans-serif; }
body{
  background:linear-gradient(to bottom,#b22234 0%,#b22234 50%,#1e3a8a 50%,#1e3a8a 100%);
  color:white;
  min-height:100vh;
  display:flex;
}

/* Sidebar */
.sidebar{
  width:200px;
  background:#1e3a8a;
  padding:20px;
  display:flex;
  flex-direction:column;
  gap:15px;
}

.sidebar button{
  padding:12px;
  font-weight:bold;
  border:none;
  border-radius:8px;
  cursor:pointer;
  background:#3b82f6;
  color:#fff;
  transition:background 0.3s;
}

.sidebar button:hover{
  background:#2563eb;
}

/* Main content */
.main{
  flex:1;
  padding:20px;
  max-width:900px;
  margin:auto;
}

header{
  text-align:center;
  padding:40px 20px;
  font-size:48px;
  font-weight:700;
  letter-spacing:2px;
  text-shadow:2px 2px 6px rgba(0,0,0,0.4);
}

.game-card{
  background: rgba(255,255,255,0.05);
  border-radius:12px;
  padding:30px;
  margin-bottom:30px;
  box-shadow:0 4px 12px rgba(0,0,0,0.3);
  text-align:center;
}

button.play-btn{
  padding:12px 24px;
  font-size:16px;
  font-weight:bold;
  border:none;
  border-radius:8px;
  background:#b22234;
  color:#fff;
  cursor:pointer;
  transition: background 0.3s;
}

button.play-btn:hover{
  background:#ff4b4b;
}

#snakeCanvas, #chessboard{
  background:#111;
  border-radius:12px;
  margin-top:20px;
}

#chessboard{
  display:grid;
  grid-template-columns:repeat(8,60px);
  grid-template-rows:repeat(8,60px);
  justify-content:center;
}

.square{
  width:60px;
  height:60px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:32px;
  cursor:pointer;
}

.light{background:#3b82f6;}
.dark{background:#1e3a8a;}

#reactionBox{
  width:200px;
  height:200px;
  margin:20px auto;
  border-radius:12px;
  display:none;
  cursor:pointer;
}

/* Professional Difficulty Buttons */
.chess-difficulty{
  margin-top:10px;
  display:flex;
  justify-content:center;
  gap:12px;
}

.diff-btn{
  padding:10px 22px;
  font-weight:700;
  border-radius:30px;
  border:2px solid white;
  background:linear-gradient(135deg,#2563eb,#1e3a8a);
  color:white;
  cursor:pointer;
  transition:all 0.25s ease;
  letter-spacing:1px;
}

.diff-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 6px 15px rgba(0,0,0,0.4);
}

.diff-btn.active{
  background:linear-gradient(135deg,#ff4b4b,#b22234);
}

#chessStatus{
  margin-top:15px;
  font-size:28px;
  font-weight:700;
}
</style>
</head>

<body>

<div class="sidebar">
  <button onclick="showHome()">Home</button>
  <button onclick="showMath()">Math</button>
</div>

<div class="main">
<header>üá∫üá∏ Totally Patriotic üá∫üá∏</header>

<div id="home" class="game-card game">
  <h2>Welcome!</h2>
  <p>
  Totally Patriotic provides an <strong>all-American experience</strong> in learning.
  We offer fun games and activities designed as an alternative to the "liberal" public education system,
  focusing on engaging students while teaching problem-solving and strategy.
  </p>
</div>

<div id="math" class="game-card game" style="display:none;">
  <h2>Math & Games</h2>

  <!-- CHESS -->
  <div id="chess" class="game-card">
    <h2>‚ôü Chess vs AI</h2>
    <div class="chess-difficulty">
      <button class="diff-btn active" onclick="setChessDifficulty('easy',this)">EASY</button>
      <button class="diff-btn" onclick="setChessDifficulty('medium',this)">MEDIUM</button>
      <button class="diff-btn" onclick="setChessDifficulty('hard',this)">HARD</button>
    </div>
    <div id="chessboard"></div>
    <p id="chessStatus"></p>
  </div>

  <!-- SNAKE -->
  <div id="snake" class="game-card">
    <h2>üêç Snake</h2>
    <button class="play-btn" onclick="startSnake()">Start</button>
    <canvas id="snakeCanvas" width="400" height="400"></canvas>
    <p id="snakeStatus"></p>
  </div>

  <!-- REACTION -->
  <div id="reaction" class="game-card">
    <h2>üéØ Reaction Game</h2>
    <button class="play-btn" onclick="startReaction()">Start</button>
    <div id="reactionBox"></div>
    <p id="reactionScore"></p>
  </div>

  <!-- WORDLE -->
  <div id="wordle" class="game-card">
    <h2>üî§ Wordle</h2>
    <p>Click below to play the official Wordle:</p>
    <a href="https://www.nytimes.com/games/wordle/index.html" target="_blank">
      <button class="play-btn">Open Wordle</button>
    </a>
  </div>
</div>

</div>

<script>

/* NAVIGATION */
function showHome(){
  document.querySelectorAll(".game-card.game").forEach(g=>g.style.display="none");
  document.getElementById("home").style.display="block";
}
function showMath(){
  document.querySelectorAll(".game-card.game").forEach(g=>g.style.display="none");
  document.getElementById("math").style.display="block";
}

/* CHESS */
const chessBoard=document.getElementById("chessboard");
const chessStatus=document.getElementById("chessStatus");

let board=[
["r","n","b","q","k","b","n","r"],
["p","p","p","p","p","p","p","p"],
["","","","","","","",""],
["","","","","","","",""],
["","","","","","","",""],
["","","","","","","",""],
["P","P","P","P","P","P","P","P"],
["R","N","B","Q","K","B","N","R"]
];

let selected=null;
let gameOver=false;
let aiDifficulty="easy";

const symbols={
r:"‚ôú",n:"‚ôû",b:"‚ôù",q:"‚ôõ",k:"‚ôö",p:"‚ôü",
R:"‚ôñ",N:"‚ôò",B:"‚ôó",Q:"‚ôï",K:"‚ôî",P:"‚ôô"
};

function drawChess(){
  chessBoard.innerHTML="";
  for(let r=0;r<8;r++){
    for(let c=0;c<8;c++){
      let sq=document.createElement("div");
      sq.className="square "+((r+c)%2==0?"light":"dark");
      sq.dataset.row=r;
      sq.dataset.col=c;
      sq.textContent=symbols[board[r][c]]||"";
      if(!gameOver) sq.onclick=clickChess;
      chessBoard.appendChild(sq);
    }
  }
}

function clickChess(){
  if(gameOver) return;
  let r=parseInt(this.dataset.row);
  let c=parseInt(this.dataset.col);

  if(!selected){
    if(board[r][c] && board[r][c]===board[r][c].toUpperCase()){
      selected=[r,c];
    }
  }else{
    let [sr,sc]=selected;
    if(isLegalMove(sr,sc,r,c,true)){
      if(board[r][c]==="k"){ endGame(true); return; }
      movePiece(sr,sc,r,c);
      setTimeout(aiMove,300);
    }else{
      chessStatus.textContent="Illegal move!";
    }
    selected=null;
    drawChess();
  }
}

function movePiece(sr,sc,tr,tc){
  board[tr][tc]=board[sr][sc];
  board[sr][sc]="";
}

function isEnemy(p,t){
  if(!t) return false;
  return (p===p.toUpperCase()&&t===t.toLowerCase())||
         (p===p.toLowerCase()&&t===t.toUpperCase());
}

function pathClear(sr,sc,tr,tc){
  let dr=Math.sign(tr-sr);
  let dc=Math.sign(tc-sc);
  let r=sr+dr,c=sc+dc;
  while(r!=tr||c!=tc){
    if(board[r][c]!="") return false;
    r+=dr;c+=dc;
  }
  return true;
}

function isLegalMove(sr,sc,tr,tc,checkTurn=false){
  if(sr===tr&&sc===tc) return false;
  let piece=board[sr][sc];
  let target=board[tr][tc];
  if(!piece) return false;
  if(checkTurn && piece!==piece.toUpperCase()) return false;
  if(target && !isEnemy(piece,target)) return false;

  let dr=tr-sr, dc=tc-sc;

  switch(piece.toLowerCase()){
    case "p":
      let dir=piece==="P"?-1:1;
      let start=piece==="P"?6:1;
      if(dc===0&&!target){
        if(dr===dir) return true;
        if(sr===start&&dr===2*dir&&!board[sr+dir][sc]) return true;
      }
      if(Math.abs(dc)===1&&dr===dir&&isEnemy(piece,target)) return true;
      return false;
    case "r":
      if(sr===tr||sc===tc) return pathClear(sr,sc,tr,tc);
      return false;
    case "n":
      return (Math.abs(dr)===2&&Math.abs(dc)===1)||(Math.abs(dr)===1&&Math.abs(dc)===2);
    case "b":
      if(Math.abs(dr)===Math.abs(dc)) return pathClear(sr,sc,tr,tc);
      return false;
    case "q":
      if(sr===tr||sc===tc||Math.abs(dr)===Math.abs(dc)) return pathClear(sr,sc,tr,tc);
      return false;
    case "k":
      return Math.abs(dr)<=1&&Math.abs(dc)<=1;
  }
  return false;
}

function setChessDifficulty(level,btn){
  aiDifficulty=level;
  document.querySelectorAll(".diff-btn").forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
}

function aiMove(){
  if(gameOver) return;
  let moves=[];
  for(let r=0;r<8;r++){
    for(let c=0;c<8;c++){
      if(board[r][c]&&board[r][c]===board[r][c].toLowerCase()){
        for(let tr=0;tr<8;tr++){
          for(let tc=0;tc<8;tc++){
            if(isLegalMove(r,c,tr,tc,false)) moves.push([r,c,tr,tc]);
          }
        }
      }
    }
  }

  if(moves.length>0){
    let move=moves[Math.floor(Math.random()*moves.length)];
    if(board[move[2]][move[3]]==="K"){ endGame(false); return; }
    movePiece(...move);
  }

  drawChess();
}

function endGame(userWon){
  gameOver=true;
  chessStatus.textContent=userWon?"YOU WIN":"YOU LOSE";
  chessStatus.style.fontSize="40px";
}

drawChess();

/* SNAKE & REACTION GAME remain exactly as your original */
/* (Unchanged for safety ‚Äî same logic you provided) */

/* Snake */
let snakeInterval;
const canvas=document.getElementById("snakeCanvas");
const ctx=canvas.getContext("2d");
let snake=[],dx=0,dy=0,food={};

function startSnake(){
snake=[{x:200,y:200}];
dx=20; dy=0;
food={x:100,y:100};
document.getElementById("snakeStatus").textContent="";
clearInterval(snakeInterval);
snakeInterval=setInterval(drawSnake,100);
}

document.addEventListener("keydown",e=>{
if(e.key==="ArrowUp"&&dy===0){dx=0;dy=-20;}
if(e.key==="ArrowDown"&&dy===0){dx=0;dy=20;}
if(e.key==="ArrowLeft"&&dx===0){dx=-20;dy=0;}
if(e.key==="ArrowRight"&&dx===0){dx=20;dy=0;}
});

function drawSnake(){
ctx.clearRect(0,0,400,400);
let head={x:snake[0].x+dx,y:snake[0].y+dy};

if(head.x<0||head.x>=400||head.y<0||head.y>=400||
snake.some(s=>s.x===head.x&&s.y===head.y)){
clearInterval(snakeInterval);
document.getElementById("snakeStatus").textContent="Game Over!";
return;
}

snake.unshift(head);

if(head.x===food.x&&head.y===food.y){
food.x=Math.floor(Math.random()*20)*20;
food.y=Math.floor(Math.random()*20)*20;
}else{
snake.pop();
}

ctx.fillStyle="lime";
snake.forEach(s=>ctx.fillRect(s.x,s.y,20,20));

ctx.fillStyle="red";
ctx.fillRect(food.x,food.y,20,20);
}

/* Reaction Game */
let reactionScore=0;
let reactionActive=false;
let canClick=false;

function startReaction(){
reactionScore=0;
reactionActive=true;
canClick=false;
document.getElementById("reactionScore").textContent="Score: 0";
let box=document.getElementById("reactionBox");
box.style.display="block";
box.style.background="red";

setTimeout(()=>{
reactionActive=false;
box.style.display="none";
},10000);

nextGreen();
}

function nextGreen(){
if(!reactionActive) return;
let delay=Math.random()*2000+1000;
setTimeout(()=>{
if(!reactionActive) return;
let box=document.getElementById("reactionBox");
box.style.background="green";
canClick=true;
},delay);
}

document.getElementById("reactionBox").onclick=function(){
if(reactionActive && canClick){
reactionScore++;
document.getElementById("reactionScore").textContent="Score: "+reactionScore;
this.style.background="red";
canClick=false;
nextGreen();
}
};
</script>

</body>
</html>





